"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[348],{348:(e,t,a)=>{a.r(t),a.d(t,{default:()=>p});const r={props:{params:{type:Array|Object},template_type_name:{type:String}},data:()=>({configChanged:!1,paramChanged:!1,compiledTemplate:{}}),mounted(){let e={template_type_name:this.template_type_name,params:this.params};this.compiledTemplate=this.replaceConfigTemplates(e),this.compiledTemplate=this.HTMLDecodeTemplate(this.compiledTemplate),console.log(this.compiledTemplate)},computed:{compiledTemplateText(){return JSON.stringify(this.compiledTemplate)}},methods:{replaceConfigTemplates(e){let t=e.params;do{this.configChanged=!1,e=this.replaceUpperConfigTemplates(e,t)}while(this.configChanged);return e},replaceUpperConfigTemplates(e,t){if(Array.isArray(e)){let a=this;return e.map((e=>a.replaceUpperConfigTemplates(e,t)))}return e&&"object"==typeof e?"template_type_name"in e?this.replaceTemplate(e,t):this.replaceObjectTemplateProperties(e,t):e},replaceObjectTemplateProperties(e,t){for(const[a,r]of Object.entries(e))if(null==r)e[a]=null;else if(Array.isArray(r)){let p=this;e[a]=r.map((e=>p.replaceUpperConfigTemplates(e,t)))}else"object"==typeof r&&(e[a]="template_type_name"in r?this.replaceTemplate(r,t):this.replaceUpperConfigTemplates(r,t));return e},replaceTemplate(e,t){let a=getObjectSubProperty(window.templates,e.template_type_name);return"params"in e&&(a=this.replaceTemplateParams(a,e.params,"++")),t&&(a=this.replaceTemplateParams(a,t,"-++"),a=this.replaceTemplateParams(a,t,"--")),this.configChanged=!0,a},replaceTemplateParams(e,t,a){do{this.paramChanged=!1,e=this.replaceUpperTemplateParams(e,t,a)}while(this.paramChanged);return e},replaceUpperTemplateParams(e,t,a){if(null==e)return null;if(Array.isArray(e)){let r=[],p=this;return e.forEach((e=>{let l=p.getReplacedTemplateValue(e,t,a);"object"==typeof e&&"array_data"in e&&e.merge_to_parent?r=r.concat(l):r.push(l)})),r}if("object"==typeof e){if("array_data"in e)return this.createArrayTemplate(e,t[e.array_data],e.array_data);{let r=structuredClone(e);for(const[e,p]of Object.entries(r))r[e]=this.replaceUpperTemplateParams(p,t,a);return r}}return this.getTemplateValue(e,t,a)},getReplacedTemplateValue(e,t,a){return"object"==typeof e&&"array_data"in e&&e.direct_paste?t[e.array_data]:this.replaceUpperTemplateParams(e,t,a)},createArrayTemplate(e,t,a){if(t&&Array.isArray(t)){let r=structuredClone(e);return delete r.array_data,delete r.merge_to_parent,t.map((e=>{let t={};return t[a]=e,this.replaceUpperTemplateParams(r,t,"++")}))}return[]},getTemplateValue(e,t,a){if("string"==typeof e){if(0==e.indexOf(a)){let r=e.substring(a.length),p=getObjectSubProperty(t,r,e);return p!=e&&(this.paramChanged=!0),p}return e}return e},HTMLDecodeTemplate(e){if(null==e)return null;if(Array.isArray(e)){let t=[];return e.forEach((e=>{t.push(this.HTMLDecodeTemplate(e))})),t}if("object"==typeof e){let t=structuredClone(e);for(const[e,a]of Object.entries(t))t[e]=this.HTMLDecodeTemplate(a);return t}return"string"==typeof e?he.decode(e):e}}};const p=(0,a(1900).Z)(r,(function(){return(0,this._self._c)("dynamic-component",{attrs:{component_infos:this.compiledTemplate}})}),[],!1,null,null,null).exports}}]);
//# sourceMappingURL=348.bundle.js.map